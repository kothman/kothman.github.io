:root {
    --header-bg-color: #1d1d1d;
    --body-bg-color: white;
    --other-bg-color: rgb(200, 244, 244);
    --body-accent-color: #abc;
    --main-border-color: #1d1d1d;
    --other-border-color: lightgrey;
    --header-text-color: white;
    --header-text-muted-color: #fafafa;
    --header-border-color: #fafafa;
    --main-text-color: black;
    --text-color-muted: #404040;
    --link-color: #00003d;
    --link-color-hover: #5340a7;
    --description-list-item-border-color: #0f0f0f;
    --description-list-item-border-left-color: #6a50e7;

    --max-width: 55rem;
}

* {
    box-sizing: border-box;
}

body {
    margin: 0;
    color: var(--main-text-color);
    min-height: 100dvh;
    background-color: var(--body-accent-color);
    font-family: Verdana, Arial, sans-serif;
    display: flex;
    flex-direction: column;
    container-type: inline-size;
    
    p {
	text-indent: 1rem;
	margin-top: 0;
	margin-bottom: 1rem;
	font-size: 1rem;
	width: 100%;
	position: relative;
	&::before {
	    content: '>';
	    position: absolute;
	    left: 0;
	    top: 0;
	    text-indent: 0rem;
	    color: var(-text-color-muted);
	}
    }
    div {
	display: flex;
	flex-direction: column;
    }
    
    #preamble {
	container-type: inline-size;
	container-name: preamble;
	header {
	    container-type: inline-size;
	    container-name: header;
	    padding: 2rem;
	    padding-bottom: 3rem;
	    border-bottom: 1px solid var(--other-border-color);
	    background-color: var(--header-bg-color);
	    display: flex;
	    flex-direction: row;
	    justify-content: center;
	    /* Site Navigation */
	    nav {
		max-width: var(--max-width);
		width: 100%;
		ul {
		    list-style: none;
		    padding: 0;
		    margin: 0;
		    display: flex;
		    flex-direction: row;
		    align-items: flex-end;
		    justify-content: space-between;
		    /* The first list item contains the title and subtitle */
		    li:first-child {
			display: flex;
			flex-direction: column;
			h1 {
			    font-size: 2rem;
			    line-height: 2rem;
			    margin-bottom: .5rem;
			}
			h3 {
			    font-weight: normal;
			}
		    }
		    /* Everything besides the first list item is a nav-item */
		    li:not(:first-child) {
			margin-left: 1rem;
			list-style: none;
			display: flex;
			flex-direction: row;
			position: relative;
			font-style: italic;
			a, a:visited, a:active {
			    position: relative;
			    display: flex;
			    flex-direction: row;
			    padding: .25rem .5rem;
			    &::before {
				content: '';
				position: absolute;
				display: inline-flex;
				margin-right: .25rem;
				border-left: 2px solid var(--header-border-color);
				height: 100%;
				left: 0;
				bottom: 0;
			    }
			    &::after {
				position: absolute;
				content: ' ';
				bottom: 0;
				left: 0;
				width: 0%;
				display: inline-block;
				border-bottom: 1px solid var(--header-border-color);
				transition: width .2s ease-in-out;
			    }
			    &:hover {
				&::after {
				    width: 100%;
				}
			    }
			}
		    }
		    a, a:visited, a:active {
			text-decoration: none;
			color: var(--header-text-muted-color);
			display: flex;
			flex-direction: column;
		    }
		}
		h1, h2, h3, h4, h5, h6 {
		    color: var(--header-text-color);
		    margin-top: 0;
		    margin-bottom: 0;
		}
	    }
	}
    }
    #content {
	padding: 2rem;
	padding-top: 0;
	container-type: inline-size;
	max-width: 100%;
	align-items: center;
	margin-top: -1rem;
	dl {
	    margin: 1rem 0;
	    display: flex;
	    flex-direction: row;
	    flex-wrap: wrap;
	    row-gap: 2rem;
	    column-gap: 2rem;
	    justify-content: space-around;
	    .description-list-item {
		max-width: 25rem;
		border: 1px solid var(--description-list-item-border-color);
		border-left: 4px solid var(--description-list-item-border-left-color);
		transition: .2s ease-in-out;
		padding: 2rem;
		dt {
		    margin-bottom: 0.5rem;
		    position: relative;
		    a, a:visited {
			transition: all .2s ease-in-out;
			color: var(--link-color);
			&:hover, &:active {
			    color: var(--link-color-hover);
			    text-shadow: 1px 1px 4px 8px black;
			
			}
			i.bi {
			    margin-left: .5rem;
			    position: absolute;
			    right: 0;
			}
		    }
		}
		dd {
		    margin-left: 0;
		    text-indent: 1rem;
		    position: relative;
		    &::before {
			content: '>';
			position: absolute;
			left: 0;
			top: 0;
			text-indent: 0rem;
			font-weight: 400;
			color: var(--text-color-muted);
		    }
		    
		}
	    }

	}
	/* Containers within the #content div */
	& > div {
	    padding: 2rem;
	    padding-top: 0rem;
	    background-color: var(--body-bg-color);
	    width: 100%;
	    max-width: var(--max-width);
	}
	/* First container should have top padding */
	& > div:first-child {
	    padding-top: 2rem;
	}
	h1, h2, h3, h4, h5, h6 {
	    margin-top: 0;
	}
	h2 {
	    border-bottom: 1px solid var(--main-border-color);
	}
	h3, h4, h5, h6 {
	    margin-bottom: 0;
	}
	h4, h5, h6 {
	    font-weight: normal;
	}
    }
}


@container (max-width: 800px) {
    body {
	h1, h2, h3, h4, h5, h6 {
	    margin-bottom: .5rem;
	    &:first-child {
		margin-top: 0;
	    }
	}
	#preamble {
	    header {
		padding: 1rem;
		padding-bottom: 1rem;
		nav ul {
		    flex-direction: column;
		    align-items: flex-start;
		    li:first-child {
			margin-bottom: .5rem;
			h1 {
			    margin-bottom: .25rem;
			}
		    }
		    li:not(:first-child) {
			margin-left: 0;
			&:not(:last-child) {
			    margin-bottom: .5rem;
			}
			a {
			    min-width: 5rem;
			}
		    }
		}
	    }
	}
	#content {
	    width: 100%;
	    max-width: 100%;
	    margin-top: 0;
	    padding: 0rem;
	    /* Content Sections that aren't last */
	    & > div:not(:last-child) {
		margin-bottom: 0;
	    }
	    /* all Content Sections */
	    & > div {
		padding: 1rem;
		padding-bottom: 1rem;
		p:not(:last-child) {
		    margin-bottom: .5rem;
		}
	    }
	    /* First container should have reduced top padding */
	    & > div:first-child {
		padding-top: 1rem;
	    }	    
	    dl {
		row-gap: 0;
		column-gap: 0;
		.description-list-item {
		    width: 45rem;
		    max-width: 100%;
		    padding: 1rem;
		}
	    }
	}
    }
}
